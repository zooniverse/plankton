@keyframes classifier-loading
  0%
    background-position: 0 0

  100%
    background-position: 0 -150px

$classify-blue = #6b85a4

.on-classify-page
  background: darken($dark-gray, 50%)

body > .stack > .classify
  height: 100%
  left: 0
  padding: 20px 0 30px
  top: 0
  width: 100%

  @media (max-height: 675px)
    &
      position: relative // Scroll in short windows

  .classify-container
    display: table
    height: 100%
    width: 100%

  .classify-centerer
    display: table-cell
    height: 100%
    text-align: center
    width: 100%
    vertical-align: middle

  .classification-interface
    box-shadow: 0 5px 10px rgba(#000, 0.5)
    display: inline-block
    height: 672px
    padding: 0
    position: relative
    width: 1024px

  .subject-container
    height: 560px
    position: relative
    width: 1024px
    z-index: 1

    &:focus
      outline: none

    &.disabled
      cursor: not-allowed

    svg
      display: block

      .hidden
        visibility: hidden

      .marking-surface-tool-root
        circle
          display: none

        .marker
          transform: translate(-12px, -30px)

        .alert
          transform: translate(-3.5px, -24px)

    .marking-surface-tool-controls
      background: $dark-gray
      background: rgba($dark-gray, 0.9)
      border-radius: 3px
      box-shadow: 0 3px 3px rgba(#000, 0.25)
      margin: -40px 0 0 20px
      z-index: 2

      &:after
        border: 8px solid transparent
        border-right-color: lighten($dark-gray, 10%)
        content: ""
        height: 0
        position: absolute
        right: 100%
        top: 30px
        width: 0

      &:not([data-selected])
        display: block

      &.to-the-left
        margin: -40px 20px 0 0

        &:after
          border-left-color: lighten($dark-gray, 10%)
          border-right-color: transparent
          left: 100%
          right: auto

      button[name="toggle"]
        color: $lime
        display: none
        font-size: 28px
        height: 30px
        left: -21px
        line-height: 1
        margin: -30px 0 0 -15px
        position: absolute
        top: 38px
        width: 30px

        &:after
          content: ''
          display: block
          background: black
          height: 10px
          width: 12px
          position: absolute
          top: 5px
          left: 5px
          z-index: 0
          font-size: 0

        &:disabled
          opacity: 1

        i:before
          z-index: 1
          position: relative

        .label,
        .example-photo
          display: none

      &.to-the-left button[name="toggle"]
        left: 20px

      $delete-mark-size = 22px

      button[name="delete-mark"]
        background: $dark-gray
        border-radius: 0 $delete-mark-size $delete-mark-size 0
        bottom: 100%
        font-family: Arial
        font-size: $delete-mark-size * 0.8
        height: $delete-mark-size
        line-height: $delete-mark-size
        position: absolute
        left: 100%
        top: 30px
        width: $delete-mark-size

        &:hover
          color: red

      &.to-the-left button[name="delete-mark"]
        border-radius: $delete-mark-size 0 0 $delete-mark-size
        left: auto
        right: 100%

      .categories,
      .category
        border-radius: 6px

        button
          line-height: 1
          position: relative
          background-color: $dark-gray
          padding: 5px
          margin: 5px 2.5px
          border-radius: 4px
          border: solid 2px transparent
          width: 69px

          &:focus, &:active
            outline: none

          &:first-of-type
            margin-left: 5px

          &:last-of-type
            margin-right: 5px

          i
            font-size: 55px
            text-shadow: 0 1px 0 rgba(#fff, 0.25)

          .label
            background: rgba($lime, 0.9)
            border-radius: 3px
            box-shadow: 0 1px 3px rgba(#000, 0.5)
            color: #000
            display: none
            font-size: 10px
            font-weight bold
            padding: 3px 10px
            position: absolute
            left: 50%
            top: 95%
            transform: translateX(-50%)
            white-space: nowrap
            z-index: 2

            &:before
              border: 5px solid transparent
              border-bottom-color: rgba($lime, 0.9)
              bottom: 100%
              content: ""
              left: 50%
              margin-left: -5px
              position: absolute

          .example-photo
            border: 2px solid $lime
            border-radius: 3px
            box-shadow: 0 1px 1px #000
            display: none
            width: 100px
            height: 100px
            left: 50%
            position: absolute
            top: 105%
            transform: translateX(-50%)
            z-index: 1

          &:hover
            .label
            .example-photo
              display: block

          &.active
            background-color: transparent
            border: solid 2px $classify-blue
            i
              color: white
              text-shadow: 0 1px 0 #000

      .categories
        background: lighten($dark-gray, 10%)
        border-radius: 6px
        display: flex

        button
          &.active
            &:before,
            &:after
              border: 5px solid transparent
              border-top-color: lighten($dark-gray, 10%)
              bottom: -10px
              margin-left: -5px
              content: ""
              height: 0
              left: 50%
              position: absolute
              width: 0

            &:before
              border-top-color: $classify-blue
              bottom: -12px

      &.complete .categories
        display: block

      .category
        display: none

        button
          background-color: lighten($dark-gray, 10%)

          &.active
            background-color: $classify-blue

        &.active
          display: flex

      &.closed
        &:after,
        button[name="delete-mark"],
        .categories,
        .category
          display: none

        button[name="toggle"]
          display: inline-block

          &:hover
            background-color: transparent

  .swap-container
    height: 560px
    left: 0
    overflow: hidden
    position: absolute
    top: 0
    width: 1024px
    z-index: 1

    .drawer
      left: 0
      position: absolute
      top: 0

      img
        background: gray
        display: block
        height: 560px
        width: 1024px


  .training-message
    bottom: 120px
    display: none
    position: absolute
    left: 0
    width: 100%
    z-index: 1

  &.training .training-message
    display: block

  .status
    background: lighten($dark-gray, 10%)
    bottom: 0
    display: table
    font-weight: bold
    font-size: 12px
    height: 112px
    left: 0
    position: absolute
    width: 100%
    border-radius: 6px

    a
      color: inherit
      text-decoration: none

    > div
      display: table-cell
      padding: 0 40px
      text-align: center
      vertical-align: middle

      &.display,
      &.return
        padding: 0 20px
        width: 70px

      &.creatures
        width: 120px

      &.continue
        padding: 0

    .aux
      font-size: 10px
      display: inline
      width: 100%

    .display > i
      font-size: 60px
      line-height: 1
      margin-left: 6px

    .creatures, .group
      padding: 0 5px

      .display
        background: $dark-gray
        border-radius: 3px
        overflow: hidden
        padding: 10px
        width: 100%
        min-width: 150px
        max-width: 200px
        height: 60px
        box-sizing: border-box
        text-align: left

      .label
        color: lighten($dark-gray, 10%)
        font-size: 10px
        line-height: 12px
        text-transform: uppercase
        margin-bottom: 5px

      .number, .name
        font-size: 18px
        text-transform: capitalize

    .continue
      .finish
        display: block
        position: relative
        float: right
        margin-right: 20px

      .next
        display: none

        .facebook, .twitter
          color: #1e2226

      a,
      button
        margin: 0 2px
        padding: 0 5px
        border-radius: 3px

      button[name="favorite"], button[name="unfavorite"]
        img
          vertical-align: middle

      button[name="unfavorite"]
        display: none

      button[name="finish"],
      button[name="next"],
      a.talk
        background: $classify-blue
        border-radius: 4px
        color: white
        display: inline-block
        font-weight: bold
        line-height: 35px
        text-decoration: none
        text-transform: uppercase
        letter-spacing: 1px

        &:hover
          box-shadow:
            0 1px 0 rgba(#fff, 0.25) inset,
            0 100px 0 rgba(#fff, 0.1) inset,
            0 5px 10px rgba(#000, 0.25)

        &:active
          box-shadow:
            0 1px 0 rgba(#fff, 0.15) inset,
            0 0 0 rgba(#fff, 0) inset,
            0 1px 3px rgba(#000, 0.33)

      button[name="finish"]
        width: 130px

    .return .home-arrow
      font-size: 20px

  .loader
    animation: 1s classifier-loading linear infinite
    background: linear-gradient(top, rgba(#000, 0.5) 0, rgba(#000, 0) 50%, rgba(#000, 0.5) 100%)
    background-size: 150px 150px
    bottom: 0
    display: none
    left: 0
    position: absolute
    right: 0
    top: 0
    z-index: 2

  &.finished .status .continue
    .finish
      display: none

    .next
      display: block

  &.loading .loader
    display: block

  &.signed-in button[name="sign-in"]
    display: none

  &.is-favorite .status .continue
    button[name="favorite"]
      display: none

    button[name="unfavorite"]
      display: inline-block

.no-tutorial-headers .tutorial .header,
.no-tutorial-progress .tutorial .progress
  display: none

.tutorial
  $arrow-size = 15px

  text-align: left;

  .progress .track
    display: none // Use the dots instead

  .dialog-arrow
    border: $arrow-size solid transparent
    height: 0
    margin: ($arrow-size * -1) 0 0 ($arrow-size * -1)
    position: absolute
    width: 0

  &.point-up .dialog-arrow
    border-bottom-color: #fff
    border-top-width: 0
    bottom: 100%
    left: 50%

  &.point-right .dialog-arrow
    border-left-color: #fff
    border-right-width: 0
    left: 100%
    margin-left: 0
    top: 50%

.training-species-icon
  background: rgba($green, 0.75)
  border-radius: 50%
  color: #fff
  font-size: 50px
  height: 1em
  line-height: 1
  margin: -0.5em 0 0 -0.5em
  position: absolute
  text-align: center
  width: 1em
  z-index: 1

.training-dont-mark-label
  background: #900
  border-radius: 3px
  color: #fff
  font-size: 12px
  font-weight: bold
  padding: 0 10px
  position: absolute
  transform: translateX(-50%)
  z-index: 1
